!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.body;let t=null;e.addEventListener("click",e=>{let n=e.target;if(t)(n.closest(".close_icon")||n.closest(".close-btn")||!n.closest(".form-content"))&&(document.querySelector('[data-popup="#gift"]')&&t!==document.getElementById("gift")?document.querySelector('[data-popup="#gift"]').style.display="block":t===document.getElementById("gift")&&document.querySelector('[data-popup="#gift"]').remove(),t.removeAttribute("style"),t=null);else if(n=n.closest("[data-popup]"),n){if("#thanks"===n.dataset.popup){if(n===document.querySelector('#banner-form button[type="submit"]')&&(!document.getElementById("check1").checked||""===document.querySelector('#banner-form [type="tel"]').value||""===document.querySelector('#banner-form [type="text"]').value))return;if(n===document.querySelector('#footer_form button[type="submit"]')&&(!document.getElementById("footer_leto_mozaika").checked&&!document.getElementById("footer_leto_schelkovo").checked||""===document.querySelector('#footer_form [type="tel"]').value))return;if(n===document.querySelector('#card_order button[type="submit"]')&&(!document.getElementById("card_check").checked||""===document.querySelector('#card_order [type="tel"]').value||""===document.querySelector('#card_order [required][type="text"]').value))return}n.matches('[type="submit"]')||e.preventDefault(),document.querySelector('[data-popup="#gift"]')&&(document.querySelector('[data-popup="#gift"]').style.display="none"),t=document.querySelector(n.dataset.popup),t.style.display="block"}})};var r=()=>{const e=document.body,t=document.querySelector(".popup-menu"),n=document.querySelector(".top-menu"),o=document.querySelector(".fixed-gift");let r=e.clientWidth;const c=()=>{e.addEventListener("click",e=>{let n=e.target;if(r<768){if(n.matches(".close-menu-btn img")||n.matches(".scroll a"))return void t.removeAttribute("style");n=n.closest(".menu-button"),n&&(t.style.display="flex")}}),document.addEventListener("scroll",()=>{const e=document.querySelector(".head").clientHeight;let t=window.scrollY;if(r<768&&t>e)return n.style.position="fixed",n.style.top="0",n.style.left="0",void(o&&(o.style.top="70px"));n.removeAttribute("style"),o&&o.removeAttribute("style")})};c(),window.addEventListener("resize",()=>{r=e.clientWidth,c()})};var c=()=>{const e=document.getElementById("totop");let t=document.querySelector(".header-main").clientHeight;e.addEventListener("click",e=>{e.preventDefault(),document.body.scrollIntoView({block:"start",behavior:"smooth"})}),window.addEventListener("scroll",()=>{window.scrollY>t/3*2?e.style.display="block":e.removeAttribute("style")})};var l=()=>{const e=document.querySelector(".main-slider"),t=e.querySelectorAll(".slide"),n=document.querySelector(".gallery-slider"),o=n.querySelectorAll(".slide"),r=e=>{let t=0;return e.forEach((e,n)=>{e.classList.contains("slide-active")&&(t=n)}),t},c=(e,t)=>{let n=r(t);const o=document.createElement("ul");o.classList.add("slider-dots");for(let e=0;e<t.length;e++){const t=document.createElement("li");t.innerHTML="<button></button>",e===n&&t.classList.add("slick-active"),o.append(t)}e.append(o)},l=(e,t,n)=>{e[t].classList.remove(n)},d=(e,t,n)=>{e[t].classList.add(n)},a=(e,t)=>{let n=r(e);l(e,n,"slide-active"),l(t,n,"slick-active"),n++,n>=e.length&&(n=0),d(e,n,"slide-active"),d(t,n,"slick-active")},s=(e,t)=>{setInterval(a,2500,e,t)},u=(e,t,n)=>{e.preventDefault();let o=r(t),c=e.target.closest(".slider-dots li")||e.target.closest(".slider-arrow");c&&(l(t,o,"slide-active"),l(n,o,"slick-active"),c.matches(".next")?o++:c.matches(".prev")?o--:n.forEach((e,t)=>{e===c&&(o=t)}),o>=t.length&&(o=0),o<0&&(o=t.length-1),d(t,o,"slide-active"),d(n,o,"slick-active"))};c(e,t),c(n,o),(e=>{const t=document.createElement("div"),n=document.createElement("div");t.classList.add("slider-arrow","next"),n.classList.add("slider-arrow","prev"),t.innerHTML='<span><i class="fa fa-chevron-right"></i></span>',n.innerHTML='<span><i class="fa fa-chevron-left"></i></span>',e.append(t),e.append(n)})(n);const i=e.querySelectorAll(".slider-dots li"),m=n.querySelectorAll(".slider-dots li");e.addEventListener("click",e=>{u(e,t,i)}),n.addEventListener("click",e=>{u(e,o,m)}),s(t,i),s(o,m)};var d=()=>{const e={mozaika:{1:1990,6:9900,9:13900,12:19900},schelkovo:{1:2990,6:14990,9:21990,12:24990}},t=document.getElementById("price-total"),n=document.getElementById("card_order");let o=1,r="mozaika";n.addEventListener("change",c=>{let l=c.target;const d=n.querySelector('[name="promo"]');if(t){if(l.matches('[name="club-name"]')&&(r=l.value),l.matches('[name="card-type"]')&&(o=l.value),(""!==d.value||d===l)&&"ТЕЛО2019"===d.value)return void(t.textContent=Math.floor(e[r][o]/100*70));t.textContent=e[r][o]}})};var a=()=>{const e=document.getElementById("form2"),t=document.getElementById("free_visit_form"),n=document.getElementById("banner-form"),o=document.getElementById("thanks"),r=document.getElementById("form1"),c=document.getElementById("callback_form"),l=document.getElementById("footer_form"),d=document.getElementById("card_order"),a="Необходимо подтвердить согласие на обработку персональных данных!",s=document.createElement("p");s.style.cssText="color: red; margin-top: 1rem; font-size: 110%; text-align: center";let u={};const i=(e,t,n,o)=>{const r=new FormData(e);u={},r.forEach((e,t)=>{u[t]=e}),o&&o(),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(u).then(e=>{n(e)}),(e=>{[...e.elements].forEach(e=>{(e.matches('input[type="text"]')||e.matches('input[type="tel"]'))&&(e.value=""),e.matches('input[type="checkbox"]')&&(e.checked=!1)})})(e)},m=(e,t)=>{let n=e.target.closest(t);n&&n.checked&&s.remove()},p=()=>{const e={s1:"Соло - 1 месяц",s6:"Соло - 6 месяцев",s9:"Соло - 9 месяцев",s12:"Соло - 12 месяцев",d12:"Дневная - 12 месяцев",1:"1 месяц",6:"6 месяцев",9:"9 месяцев",12:"12 месяцев"};e[u["card-type"]]&&(u["card-type"]=e[u["card-type"]])},y=e=>{e.querySelector(".form-content").innerHTML='<h4>Подождите</h4><p></p><button class="btn close-btn" style="display: none;">OK</button>'},f=(e,t)=>{200!==t.status?(e.querySelector("h4").textContent="Сожалеем",e.querySelector("p").innerHTML="Произошла ошибка при отправке данных"):(e.querySelector("h4").textContent="Спасибо!",e.querySelector("p").innerHTML="Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время."),e.querySelector("button").style.display="block"};n.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("check1").checked?(y(o),i(n,0,e=>{f(o,e)})):(s.textContent=a,n.append(s))}),l.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("footer_leto_mozaika").checked||document.getElementById("footer_leto_schelkovo").checked?(y(o),i(l,0,e=>{f(o,e)})):(s.textContent="Необходимо выбрать клуб!",l.append(s))}),e.addEventListener("submit",n=>{n.preventDefault(),document.getElementById("check2").checked?(y(t),i(e,0,e=>{f(t,e)})):(s.textContent=a,e.append(s))}),r.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("check").checked?(y(c),i(r,0,e=>{f(c,e)})):(s.textContent=a,r.append(s))}),d.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("card_check").checked?(y(o),i(d,0,e=>{f(o,e)},p)):(s.textContent=a,d.querySelector(".right")?d.querySelector(".right").append(s):d.append(s))}),n.addEventListener("change",e=>{m(e,"#check1")}),l.addEventListener("change",e=>{m(e,"#footer_leto_mozaika"),m(e,"#footer_leto_schelkovo")}),e.addEventListener("change",e=>{m(e,"#check2")}),r.addEventListener("change",e=>{m(e,"#check")}),d.addEventListener("change",e=>{m(e,"#card_check")})};var s=()=>{const e=document.querySelectorAll('input[type="tel"]'),t=document.querySelectorAll('input[type="text"]:not([placeholder="Промокод"])'),n=(document.querySelector('input[placeholder="Промокод"]'),(e,t)=>{e.addEventListener("input",()=>{e.value=e.value.replace(t,"")})});e.forEach(e=>{n(e,/[^\+\d]/)}),t.forEach(e=>{n(e,/[^А-Яа-яЁё\ ]/)})};(()=>{document.body.addEventListener("click",e=>{const t=document.querySelector(".club-select ul");e.target.closest(".club-select")?t.hasAttribute("style")?t.removeAttribute("style"):t.style.display="block":t.removeAttribute("style")})})(),o(),r(),c(),l(),d(),a(),s()}]);