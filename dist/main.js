!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{const e=document.body;let t=null,n=null,r="";e.addEventListener("click",e=>{let o=e.target;if(t)(o.closest(".close_icon")||o.closest(".close-btn")||!o.closest(".form-content"))&&(document.querySelector('[data-popup="#gift"]')&&t!==document.getElementById("gift")?document.querySelector('[data-popup="#gift"]').style.display="block":t===document.getElementById("gift")&&document.querySelector('[data-popup="#gift"]').remove(),t.removeAttribute("style"),n&&(document.querySelector(r).innerHTML=n),t=null,n=null);else if(o=o.closest("[data-popup]"),o){if(r=o.dataset.popup,"#thanks"===r){if(o===document.querySelector('#banner-form button[type="submit"]')&&(!document.getElementById("check1").checked||""===document.querySelector('#banner-form [type="tel"]').value||""===document.querySelector('#banner-form [type="text"]').value))return;if(o===document.querySelector('#footer_form button[type="submit"]')&&(!document.getElementById("footer_leto_mozaika").checked&&!document.getElementById("footer_leto_schelkovo").checked||""===document.querySelector('#footer_form [type="tel"]').value))return;if(o===document.querySelector('#card_order button[type="submit"]')&&(!document.getElementById("card_check").checked||""===document.querySelector('#card_order [type="tel"]').value||""===document.querySelector('#card_order [required][type="text"]').value))return}o.matches('[type="submit"]')||(e.preventDefault(),n=document.querySelector(r).innerHTML),document.querySelector('[data-popup="#gift"]')&&(document.querySelector('[data-popup="#gift"]').style.display="none"),t=document.querySelector(r),t.style.display="block"}})};var o=()=>{const e=document.body,t=document.querySelector(".popup-menu"),n=document.querySelector(".top-menu"),r=document.querySelector(".fixed-gift");let o=e.clientWidth;const c=()=>{e.addEventListener("click",e=>{let n=e.target;if(o<768){if(n.matches(".close-menu-btn img")||n.matches(".scroll a"))return void t.removeAttribute("style");n=n.closest(".menu-button"),n&&(t.style.display="flex")}}),document.addEventListener("scroll",()=>{const e=document.querySelector(".head").clientHeight;let t=window.scrollY;if(o<768&&t>e)return n.style.position="fixed",n.style.top="0",n.style.left="0",void(r&&(r.style.top="70px"));n.removeAttribute("style"),r&&r.removeAttribute("style")})};c(),window.addEventListener("resize",()=>{o=e.clientWidth,c()})};var c=()=>{const e=document.getElementById("totop");let t=document.querySelector(".header-main").clientHeight;e.addEventListener("click",e=>{e.preventDefault(),document.body.scrollIntoView({block:"start",behavior:"smooth"})}),window.addEventListener("scroll",()=>{window.scrollY>t/3*2?e.style.display="block":e.removeAttribute("style")})};var l=()=>{const e=document.querySelector(".main-slider"),t=e.querySelectorAll(".slide"),n=document.querySelector(".gallery-slider"),r=n.querySelectorAll(".slide"),o=document.querySelector(".services-slider"),c=document.querySelector(".services-slider-wrapper"),l=o.querySelectorAll(".slide")[0].clientWidth,d=10*(l+12);let a,s=0;const u=e=>{let t=0;return e.forEach((e,n)=>{e.classList.contains("slide-active")&&(t=n)}),t},i=(e,t)=>{let n=u(t);const r=document.createElement("ul");r.classList.add("slider-dots");for(let e=0;e<t.length;e++){const t=document.createElement("li");t.innerHTML="<button></button>",e===n&&t.classList.add("slick-active"),r.append(t)}e.append(r)},m=e=>{const t=document.createElement("div"),n=document.createElement("div");t.classList.add("slider-arrow","next"),n.classList.add("slider-arrow","prev"),t.innerHTML='<span><i class="fa fa-chevron-right"></i></span>',n.innerHTML='<span><i class="fa fa-chevron-left"></i></span>',e.append(t),e.append(n)},p=(e,t,n)=>{e[t].classList.remove(n)},y=(e,t,n)=>{e[t].classList.add(n)},v=e=>{s++;let t=(l+12)*s,n=t+e.clientWidth-d;n>0?(t=(l+12)*(s-1)+(l-n),s=-1):0===n&&(s=-1),e.style.transform=`translateX(-${t}px)`},f=(e,t)=>{let n=u(e);p(e,n,"slide-active"),p(t,n,"slick-active"),n++,n>=e.length&&(n=0),y(e,n,"slide-active"),y(t,n,"slick-active")},h=(e,t)=>{setInterval(f,2500,e,t)},b=e=>{a=setInterval(v,2500,e)},g=(e,t,n)=>{e.preventDefault();let r=u(t),o=e.target.closest(".slider-dots li")||e.target.closest(".slider-arrow");o&&(p(t,r,"slide-active"),p(n,r,"slick-active"),o.matches(".next")?r++:o.matches(".prev")?r--:n.forEach((e,t)=>{e===o&&(r=t)}),r>=t.length&&(r=0),r<0&&(r=t.length-1),y(t,r,"slide-active"),y(n,r,"slick-active"))};i(e,t),i(n,r),m(n);const E=e.querySelectorAll(".slider-dots li"),k=n.querySelectorAll(".slider-dots li");e.addEventListener("click",e=>{g(e,t,E)}),n.addEventListener("click",e=>{g(e,r,k)}),h(t,E),h(r,k),m(c),c.addEventListener("mouseover",()=>{clearInterval(a)}),c.addEventListener("mouseout",()=>{b(o)}),c.addEventListener("click",e=>{e.preventDefault();let t=e.target.closest(".slider-arrow");t.matches(".next")&&v(o),t.matches(".prev")&&(e=>{s--;let t=(l+12)*s;s<0&&(t=0,s=0),e.style.transform=`translateX(-${t}px)`})(o)}),b(o)};var d=()=>{const e={mozaika:{1:1990,6:9900,9:13900,12:19900},schelkovo:{1:2990,6:14990,9:21990,12:24990}},t=document.getElementById("price-total"),n=document.getElementById("card_order");let r=1,o="mozaika";n.addEventListener("change",c=>{let l=c.target;const d=n.querySelector('[name="promo"]');if(t){if(l.matches('[name="club-name"]')&&(o=l.value),l.matches('[name="card-type"]')&&(r=l.value),(""!==d.value||d===l)&&"ТЕЛО2019"===d.value)return void(t.textContent=Math.floor(e[o][r]/100*70));t.textContent=e[o][r]}})};var a=()=>{const e=document.getElementById("form2"),t=document.getElementById("free_visit_form"),n=document.getElementById("banner-form"),r=document.getElementById("thanks"),o=document.getElementById("form1"),c=document.getElementById("callback_form"),l=document.getElementById("footer_form"),d=document.getElementById("card_order"),a="Необходимо подтвердить согласие на обработку персональных данных!",s=document.createElement("p");s.style.cssText="color: red; margin-top: 1rem; font-size: 110%; text-align: center";let u={};const i=(e,t,n,r)=>{const o=new FormData(e);u={},o.forEach((e,t)=>{u[t]=e}),r&&r(),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(u).then(e=>{n(e)}),(e=>{[...e.elements].forEach(e=>{(e.matches('input[type="text"]')||e.matches('input[type="tel"]'))&&(e.value=""),e.matches('input[type="checkbox"]')&&(e.checked=!1)})})(e)},m=(e,t)=>{let n=e.target.closest(t);n&&n.checked&&s.remove()},p=()=>{const e={s1:"Соло - 1 месяц",s6:"Соло - 6 месяцев",s9:"Соло - 9 месяцев",s12:"Соло - 12 месяцев",d12:"Дневная - 12 месяцев",1:"1 месяц",6:"6 месяцев",9:"9 месяцев",12:"12 месяцев"};e[u["card-type"]]&&(u["card-type"]=e[u["card-type"]])},y=e=>{e.querySelector(".form-content").innerHTML='<h4>Подождите</h4><p></p><button class="btn close-btn" style="display: none;">OK</button>'},v=(e,t)=>{200!==t.status?(e.querySelector("h4").textContent="Сожалеем",e.querySelector("p").innerHTML="Произошла ошибка при отправке данных"):(e.querySelector("h4").textContent="Спасибо!",e.querySelector("p").innerHTML="Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время."),e.querySelector("button").style.display="block"};n.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("check1").checked?(y(r),i(n,0,e=>{v(r,e)})):(s.textContent=a,n.append(s))}),l.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("footer_leto_mozaika").checked||document.getElementById("footer_leto_schelkovo").checked?(y(r),i(l,0,e=>{v(r,e)})):(s.textContent="Необходимо выбрать клуб!",l.append(s))}),e.addEventListener("submit",n=>{n.preventDefault(),document.getElementById("check2").checked?(y(t),i(e,0,e=>{v(t,e)})):(s.textContent=a,e.append(s))}),o.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("check").checked?(y(c),i(o,0,e=>{v(c,e)})):(s.textContent=a,o.append(s))}),d.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("card_check").checked?(y(r),i(d,0,e=>{v(r,e)},p)):(s.textContent=a,d.querySelector(".right")?d.querySelector(".right").append(s):d.append(s))}),n.addEventListener("change",e=>{m(e,"#check1")}),l.addEventListener("change",e=>{m(e,"#footer_leto_mozaika"),m(e,"#footer_leto_schelkovo")}),e.addEventListener("change",e=>{m(e,"#check2")}),o.addEventListener("change",e=>{m(e,"#check")}),d.addEventListener("change",e=>{m(e,"#card_check")})};var s=()=>{const e=document.querySelectorAll('input[type="tel"]'),t=document.querySelectorAll('input[type="text"]:not([placeholder="Промокод"])'),n=(document.querySelector('input[placeholder="Промокод"]'),(e,t)=>{e.addEventListener("input",()=>{e.value=e.value.replace(t,"")})});e.forEach(e=>{n(e,/[^\+\d]/)}),t.forEach(e=>{n(e,/[^А-Яа-яЁё\ ]/)})};(()=>{document.body.addEventListener("click",e=>{const t=document.querySelector(".club-select ul");e.target.closest(".club-select")?t.hasAttribute("style")?t.removeAttribute("style"):t.style.display="block":t.removeAttribute("style")})})(),r(),o(),c(),l(),d(),a(),s()}]);