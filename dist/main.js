!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{const e=document.body;let t=null;e.addEventListener("click",e=>{let n=e.target;if(t)(n.closest(".close_icon")||n.closest(".close-btn")||!n.closest(".form-content"))&&(document.querySelector('[data-popup="#gift"]')&&t!==document.getElementById("gift")?document.querySelector('[data-popup="#gift"]').style.display="block":t===document.getElementById("gift")&&document.querySelector('[data-popup="#gift"]').remove(),t.removeAttribute("style"),t=null);else if(n=n.closest("[data-popup]"),n){if("#thanks"===n.dataset.popup&&n===document.querySelector('#banner-form button[name="send"]')&&!document.getElementById("check1").checked)return;n.matches('[type="submit"]')||e.preventDefault(),document.querySelector('[data-popup="#gift"]')&&(document.querySelector('[data-popup="#gift"]').style.display="none"),t=document.querySelector(n.dataset.popup),t.style.display="block"}})};var o=()=>{const e=document.body,t=document.querySelector(".popup-menu"),n=document.querySelector(".top-menu"),r=document.querySelector(".fixed-gift");let o=e.clientWidth;const c=()=>{e.addEventListener("click",e=>{let n=e.target;if(o<768){if(n.matches(".close-menu-btn img")||n.matches(".scroll a"))return void t.removeAttribute("style");n=n.closest(".menu-button"),n&&(t.style.display="flex")}}),document.addEventListener("scroll",()=>{const e=document.querySelector(".head").clientHeight;let t=window.scrollY;if(o<768&&t>e)return n.style.position="fixed",n.style.top="0",n.style.left="0",void(r&&(r.style.top="70px"));n.removeAttribute("style"),r&&r.removeAttribute("style")})};c(),window.addEventListener("resize",()=>{o=e.clientWidth,c()})};var c=()=>{const e=document.getElementById("totop");let t=document.querySelector(".header-main").clientHeight;e.addEventListener("click",e=>{e.preventDefault(),document.body.scrollIntoView({block:"start",behavior:"smooth"})}),window.addEventListener("scroll",()=>{window.scrollY>t/3*2?e.style.display="block":e.removeAttribute("style")})};var l=()=>{const e=document.querySelector(".main-slider"),t=e.querySelectorAll(".slide"),n=document.querySelector(".gallery-slider"),r=n.querySelectorAll(".slide"),o=e=>{let t=0;return e.forEach((e,n)=>{e.classList.contains("slide-active")&&(t=n)}),t},c=(e,t)=>{let n=o(t);const r=document.createElement("ul");r.classList.add("slider-dots");for(let e=0;e<t.length;e++){const t=document.createElement("li");t.innerHTML="<button></button>",e===n&&t.classList.add("slick-active"),r.append(t)}e.append(r)},l=(e,t,n)=>{e[t].classList.remove(n)},s=(e,t,n)=>{e[t].classList.add(n)},d=(e,t)=>{let n=o(e);l(e,n,"slide-active"),l(t,n,"slick-active"),n++,n>=e.length&&(n=0),s(e,n,"slide-active"),s(t,n,"slick-active")},a=(e,t)=>{setInterval(d,2500,e,t)},i=(e,t,n)=>{e.preventDefault();let r=o(t),c=e.target.closest(".slider-dots li")||e.target.closest(".slider-arrow");c&&(l(t,r,"slide-active"),l(n,r,"slick-active"),c.matches(".next")?r++:c.matches(".prev")?r--:n.forEach((e,t)=>{e===c&&(r=t)}),r>=t.length&&(r=0),r<0&&(r=t.length-1),s(t,r,"slide-active"),s(n,r,"slick-active"))};c(e,t),c(n,r),(e=>{const t=document.createElement("div"),n=document.createElement("div");t.classList.add("slider-arrow","next"),n.classList.add("slider-arrow","prev"),t.innerHTML='<span><i class="fa fa-chevron-right"></i></span>',n.innerHTML='<span><i class="fa fa-chevron-left"></i></span>',e.append(t),e.append(n)})(n);const u=e.querySelectorAll(".slider-dots li"),m=n.querySelectorAll(".slider-dots li");e.addEventListener("click",e=>{i(e,t,u)}),n.addEventListener("click",e=>{i(e,r,m)}),a(t,u),a(r,m)};var s=()=>{const e={mozaika:{1:1990,6:9900,9:13900,12:19900},schelkovo:{1:2990,6:14990,9:21990,12:24990}},t=document.getElementById("price-total"),n=document.getElementById("card_order");let r=1,o="mozaika";n.addEventListener("change",c=>{let l=c.target;const s=n.querySelector('[name="name"]');if(t){if(l.matches('[name="club-name"]')&&(o=l.value),l.matches('[name="card-type"]')&&(r=l.value),(""!==s.value||s===l)&&"ТЕЛО2019"===s.value)return void(t.textContent=Math.floor(e[o][r]/100*70));t.textContent=e[o][r]}})};var d=()=>{const e=document.getElementById("banner-form"),t=(document.getElementById("card_order"),document.getElementById("form2")),n=document.getElementById("form1"),r=document.getElementById("thanks"),o=document.getElementById("free_visit_form"),c=document.getElementById("callback_form"),l="Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время.",s="Произошла ошибка при отправке данных",d="Необходимо подтвердить согласие на обработку персональных данных!",a=document.createElement("p");a.style.cssText="color: red; margin-top: 1rem; font-size: 110%; text-align: center";const i=(e,t,n)=>{const r=new FormData(e);let o={};r.forEach((e,t)=>{o[t]=e}),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(o).then(e=>{n(e)}),(e=>{[...e.elements].forEach(e=>{e.matches("input")&&(e.value="")})})(e)},u=(e,t)=>{let n=e.target.closest(t);n&&n.checked&&a.remove()};e.addEventListener("submit",t=>{t.preventDefault(),document.getElementById("check1").checked?i(e,0,e=>{r.querySelector("h4").textContent="Подождите",r.querySelector("p").innerHTML="",200!==e.status?(r.querySelector("h4").textContent="Сожалеем",r.querySelector("p").innerHTML=s):(r.querySelector("h4").textContent="Спасибо!",r.querySelector("p").innerHTML=l),r.querySelector("button").style.display="block"}):(a.textContent=d,e.append(a))}),t.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("check2").checked?i(t,0,e=>{o.querySelector(".form-content").innerHTML="<h4>Подождите</h4><p></p>",200!==e.status?(o.querySelector("h4").textContent="Сожалеем",o.querySelector("p").innerHTML=s):(o.querySelector("h4").textContent="Спасибо!",o.querySelector("p").innerHTML=l)}):(a.textContent=d,t.append(a))}),n.addEventListener("submit",e=>{e.preventDefault(),document.getElementById("check").checked?i(n,0,e=>{c.querySelector(".form-content").innerHTML="<h4>Подождите</h4><p></p>",200!==e.status?(c.querySelector("h4").textContent="Сожалеем",c.querySelector("p").innerHTML=s):(c.querySelector("h4").textContent="Спасибо!",c.querySelector("p").innerHTML=l)}):(a.textContent=d,n.append(a))}),e.addEventListener("change",e=>{u(e,"#check1")}),t.addEventListener("change",e=>{u(e,"#check2")}),n.addEventListener("change",e=>{u(e,"#check")})};var a=()=>{const e=document.querySelectorAll('input[type="tel"]'),t=document.querySelectorAll('input[type="text"]'),n=(e,t)=>{e.addEventListener("input",()=>{e.value=e.value.replace(t,"")})};e.forEach(e=>{n(e,/[^\+\d]/)}),t.forEach(e=>{n(e,/[^А-Яа-яЁё\ ]/)})};(()=>{document.body.addEventListener("click",e=>{const t=document.querySelector(".club-select ul");e.target.closest(".club-select")?t.hasAttribute("style")?t.removeAttribute("style"):t.style.display="block":t.removeAttribute("style")})})(),r(),o(),c(),l(),s(),d(),a()}]);